{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/carwash/src/components/ui/date-range-picker.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { CalendarIcon } from 'lucide-react';\nimport { format } from 'date-fns';\nimport type { DateRange } from 'react-day-picker';\n\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Calendar } from '@/components/ui/calendar';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover';\n\ninterface DateRangePickerProps {\n  date: DateRange | undefined;\n  onSelect: (date: DateRange | undefined) => void;\n  className?: string;\n}\n\nexport function DateRangePicker({ date, onSelect, className }: DateRangePickerProps) {\n  return (\n    <div className={cn('grid gap-2', className)}>\n      <Popover>\n        <PopoverTrigger asChild>\n          <Button\n            id=\"date\"\n            variant={'outline'}\n            className={cn(\n              'w-[260px] justify-start text-left font-normal',\n              !date && 'text-muted-foreground'\n            )}\n          >\n            <CalendarIcon className=\"mr-2 h-4 w-4\" />\n            {date?.from ? (\n              date.to ? (\n                <>\n                  {format(date.from, 'LLL dd, y')} -{' '}\n                  {format(date.to, 'LLL dd, y')}\n                </>\n              ) : (\n                format(date.from, 'LLL dd, y')\n              )\n            ) : (\n              <span>Pick a date</span>\n            )}\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent className=\"w-auto p-0\" align=\"end\">\n          <Calendar\n            initialFocus\n            mode=\"range\"\n            defaultMonth={date?.from}\n            selected={date}\n            onSelect={onSelect}\n            numberOfMonths={2}\n          />\n        </PopoverContent>\n      </Popover>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAGA;AACA;AACA;AACA;AAVA;;;;;;;;AAsBO,SAAS,gBAAgB,KAAmD;QAAnD,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAwB,GAAnD;IAC9B,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;kBAC/B,cAAA,6LAAC,iJAAO;;8BACN,6LAAC,wJAAc;oBAAC,OAAO;8BACrB,cAAA,6LAAC,+IAAM;wBACL,IAAG;wBACH,SAAS;wBACT,WAAW,IAAA,4HAAE,EACX,iDACA,CAAC,QAAQ;;0CAGX,6LAAC,iOAAY;gCAAC,WAAU;;;;;;4BACvB,CAAA,iBAAA,2BAAA,KAAM,IAAI,IACT,KAAK,EAAE,iBACL;;oCACG,IAAA,mKAAM,EAAC,KAAK,IAAI,EAAE;oCAAa;oCAAG;oCAClC,IAAA,mKAAM,EAAC,KAAK,EAAE,EAAE;;+CAGnB,IAAA,mKAAM,EAAC,KAAK,IAAI,EAAE,6BAGpB,6LAAC;0CAAK;;;;;;;;;;;;;;;;;8BAIZ,6LAAC,wJAAc;oBAAC,WAAU;oBAAa,OAAM;8BAC3C,cAAA,6LAAC,mJAAQ;wBACP,YAAY;wBACZ,MAAK;wBACL,YAAY,EAAE,iBAAA,2BAAA,KAAM,IAAI;wBACxB,UAAU;wBACV,UAAU;wBACV,gBAAgB;;;;;;;;;;;;;;;;;;;;;;AAM5B;KAzCgB","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///home/user/carwash/src/components/dashboard/dashboard-summary.tsx"],"sourcesContent":["'use client';\n\nimport { useContext } from 'react';\nimport { AppContext, AppContextType } from '@/contexts/app-context';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n\ninterface DashboardSummaryProps {\n  totalRevenue: number;\n  totalCommissions: number;\n  totalExpenses: number;\n  netProfit: number;\n}\n\nexport function DashboardSummary({ totalRevenue, totalCommissions, totalExpenses, netProfit }: DashboardSummaryProps) {\n  const { t } = useContext(AppContext) as AppContextType;\n\n  const summaryCards = [\n    { title: t('total-revenue'), value: totalRevenue.toFixed(2) },\n    { title: t('total-commissions'), value: totalCommissions.toFixed(2) },\n    { title: t('total-expenses'), value: totalExpenses.toFixed(2) },\n    { title: t('net-profit'), value: netProfit.toFixed(2) },\n  ];\n\n  return (\n    <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n      {summaryCards.map(card => (\n        <Card key={card.title}>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">{card.title}</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{card.value}</div>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAaO,SAAS,iBAAiB,KAAmF;QAAnF,EAAE,YAAY,EAAE,gBAAgB,EAAE,aAAa,EAAE,SAAS,EAAyB,GAAnF;;IAC/B,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,2KAAU,EAAC,mJAAU;IAEnC,MAAM,eAAe;QACnB;YAAE,OAAO,EAAE;YAAkB,OAAO,aAAa,OAAO,CAAC;QAAG;QAC5D;YAAE,OAAO,EAAE;YAAsB,OAAO,iBAAiB,OAAO,CAAC;QAAG;QACpE;YAAE,OAAO,EAAE;YAAmB,OAAO,cAAc,OAAO,CAAC;QAAG;QAC9D;YAAE,OAAO,EAAE;YAAe,OAAO,UAAU,OAAO,CAAC;QAAG;KACvD;IAED,qBACE,6LAAC;QAAI,WAAU;kBACZ,aAAa,GAAG,CAAC,CAAA,qBAChB,6LAAC,2IAAI;;kCACH,6LAAC,iJAAU;wBAAC,WAAU;kCACpB,cAAA,6LAAC,gJAAS;4BAAC,WAAU;sCAAuB,KAAK,KAAK;;;;;;;;;;;kCAExD,6LAAC,kJAAW;kCACV,cAAA,6LAAC;4BAAI,WAAU;sCAAsB,KAAK,KAAK;;;;;;;;;;;;eALxC,KAAK,KAAK;;;;;;;;;;AAW7B;GAxBgB;KAAA","debugId":null}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///home/user/carwash/src/components/dashboard/revenue-chart.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo, useContext } from 'react';\nimport { Bar, BarChart, ResponsiveContainer, XAxis, YAxis, Tooltip, Legend } from 'recharts';\nimport { AppContext, AppContextType } from '@/contexts/app-context';\nimport type { Service, Expense } from '@/types';\nimport { format, eachDayOfInterval, startOfDay } from 'date-fns';\n\ninterface RevenueChartProps {\n  services: Service[];\n  expenses: Expense[];\n}\n\nexport function RevenueChart({ services, expenses }: RevenueChartProps) {\n  const { t } = useContext(AppContext) as AppContextType;\n\n  const data = useMemo(() => {\n    if (services.length === 0 && expenses.length === 0) return [];\n\n    const allDates = [\n      ...services.map(s => startOfDay(new Date(s.timestamp))),\n      ...expenses.map(e => startOfDay(new Date(e.date)))\n    ];\n    const minDate = new Date(Math.min(...allDates.map(d => d.getTime())));\n    const maxDate = new Date(Math.max(...allDates.map(d => d.getTime())));\n\n    const interval = eachDayOfInterval({ start: minDate, end: maxDate });\n\n    return interval.map(day => {\n      const dayStr = format(day, 'yyyy-MM-dd');\n      const dailyRevenue = services\n        .filter(s => format(new Date(s.timestamp), 'yyyy-MM-dd') === dayStr)\n        .reduce((acc, s) => acc + s.price, 0);\n      const dailyExpenses = expenses\n        .filter(e => format(new Date(e.date), 'yyyy-MM-dd') === dayStr)\n        .reduce((acc, e) => acc + e.amount, 0);\n\n      return {\n        date: format(day, 'MMM d'),\n        [t('revenue')]: dailyRevenue,\n        [t('expenses')]: dailyExpenses,\n      };\n    });\n  }, [services, expenses, t]);\n\n  return (\n    <ResponsiveContainer width=\"100%\" height={350}>\n      <BarChart data={data}>\n        <XAxis dataKey=\"date\" stroke=\"#888888\" fontSize={12} tickLine={false} axisLine={false} />\n        <YAxis stroke=\"#888888\" fontSize={12} tickLine={false} axisLine={false} tickFormatter={(value) => `$${value}`} />\n        <Tooltip />\n        <Legend />\n        <Bar dataKey={t('revenue')} fill=\"#3498db\" radius={[4, 4, 0, 0]} />\n        <Bar dataKey={t('expenses')} fill=\"#e74c3c\" radius={[4, 4, 0, 0]} />\n      </BarChart>\n    </ResponsiveContainer>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;;;AANA;;;;;AAaO,SAAS,aAAa,KAAyC;QAAzC,EAAE,QAAQ,EAAE,QAAQ,EAAqB,GAAzC;;IAC3B,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,2KAAU,EAAC,mJAAU;IAEnC,MAAM,OAAO,IAAA,wKAAO;sCAAC;YACnB,IAAI,SAAS,MAAM,KAAK,KAAK,SAAS,MAAM,KAAK,GAAG,OAAO,EAAE;YAE7D,MAAM,WAAW;mBACZ,SAAS,GAAG;kDAAC,CAAA,IAAK,IAAA,2JAAU,EAAC,IAAI,KAAK,EAAE,SAAS;;mBACjD,SAAS,GAAG;kDAAC,CAAA,IAAK,IAAA,2JAAU,EAAC,IAAI,KAAK,EAAE,IAAI;;aAChD;YACD,MAAM,UAAU,IAAI,KAAK,KAAK,GAAG,IAAI,SAAS,GAAG;8CAAC,CAAA,IAAK,EAAE,OAAO;;YAChE,MAAM,UAAU,IAAI,KAAK,KAAK,GAAG,IAAI,SAAS,GAAG;8CAAC,CAAA,IAAK,EAAE,OAAO;;YAEhE,MAAM,WAAW,IAAA,yKAAiB,EAAC;gBAAE,OAAO;gBAAS,KAAK;YAAQ;YAElE,OAAO,SAAS,GAAG;8CAAC,CAAA;oBAClB,MAAM,SAAS,IAAA,mKAAM,EAAC,KAAK;oBAC3B,MAAM,eAAe,SAClB,MAAM;mEAAC,CAAA,IAAK,IAAA,mKAAM,EAAC,IAAI,KAAK,EAAE,SAAS,GAAG,kBAAkB;kEAC5D,MAAM;mEAAC,CAAC,KAAK,IAAM,MAAM,EAAE,KAAK;kEAAE;oBACrC,MAAM,gBAAgB,SACnB,MAAM;oEAAC,CAAA,IAAK,IAAA,mKAAM,EAAC,IAAI,KAAK,EAAE,IAAI,GAAG,kBAAkB;mEACvD,MAAM;oEAAC,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM;mEAAE;oBAEtC,OAAO;wBACL,MAAM,IAAA,mKAAM,EAAC,KAAK;wBAClB,CAAC,EAAE,WAAW,EAAE;wBAChB,CAAC,EAAE,YAAY,EAAE;oBACnB;gBACF;;QACF;qCAAG;QAAC;QAAU;QAAU;KAAE;IAE1B,qBACE,6LAAC,6LAAmB;QAAC,OAAM;QAAO,QAAQ;kBACxC,cAAA,6LAAC,mKAAQ;YAAC,MAAM;;8BACd,6LAAC,iKAAK;oBAAC,SAAQ;oBAAO,QAAO;oBAAU,UAAU;oBAAI,UAAU;oBAAO,UAAU;;;;;;8BAChF,6LAAC,iKAAK;oBAAC,QAAO;oBAAU,UAAU;oBAAI,UAAU;oBAAO,UAAU;oBAAO,eAAe,CAAC,QAAU,AAAC,IAAS,OAAN;;;;;;8BACtG,6LAAC,qKAAO;;;;;8BACR,6LAAC,mKAAM;;;;;8BACP,6LAAC,6JAAG;oBAAC,SAAS,EAAE;oBAAY,MAAK;oBAAU,QAAQ;wBAAC;wBAAG;wBAAG;wBAAG;qBAAE;;;;;;8BAC/D,6LAAC,6JAAG;oBAAC,SAAS,EAAE;oBAAa,MAAK;oBAAU,QAAQ;wBAAC;wBAAG;wBAAG;wBAAG;qBAAE;;;;;;;;;;;;;;;;;AAIxE;GA5CgB;KAAA","debugId":null}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///home/user/carwash/src/components/dashboard/dashboard.tsx"],"sourcesContent":["'use client';\n\nimport { useContext, useMemo, useState } from 'react';\nimport type { DateRange } from 'react-day-picker';\nimport { startOfMonth, endOfMonth } from 'date-fns';\n\nimport { AppContext, AppContextType } from '@/contexts/app-context';\nimport { DateRangePicker } from '@/components/ui/date-range-picker';\nimport { DashboardSummary } from './dashboard-summary';\nimport { RevenueChart } from './revenue-chart';\n\nexport function Dashboard() {\n  const { allServices, expenses, t } = useContext(AppContext) as AppContextType;\n\n  const [date, setDate] = useState<DateRange | undefined>({\n    from: startOfMonth(new Date()),\n    to: endOfMonth(new Date()),\n  });\n\n  const filteredData = useMemo(() => {\n    const from = date?.from;\n    const to = date?.to;\n\n    if (!from || !to) {\n      return { services: [], expenses: [] };\n    }\n\n    const services = allServices.filter(s => {\n      const serviceDate = new Date(s.timestamp);\n      return serviceDate >= from && serviceDate <= to;\n    });\n    const filteredExpenses = expenses.filter(e => {\n        const expenseDate = new Date(e.date);\n        return expenseDate >= from && expenseDate <= to;\n    });\n\n    return { services, expenses: filteredExpenses };\n  }, [allServices, expenses, date]);\n\n  const totalRevenue = useMemo(() => filteredData.services.reduce((acc, s) => acc + s.price, 0), [filteredData.services]);\n  const totalCommissions = useMemo(() => filteredData.services.reduce((acc, s) => acc + s.commission, 0), [filteredData.services]);\n  const totalExpenses = useMemo(() => filteredData.expenses.reduce((acc, e) => acc + e.amount, 0), [filteredData.expenses]);\n  const netProfit = useMemo(() => totalRevenue - totalCommissions - totalExpenses, [totalRevenue, totalCommissions, totalExpenses]);\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h1 className=\"text-2xl font-bold\">{t('dashboard')}</h1>\n        <DateRangePicker\n          date={date}\n          onSelect={setDate}\n        />\n      </div>\n      <DashboardSummary \n        totalRevenue={totalRevenue}\n        totalCommissions={totalCommissions}\n        totalExpenses={totalExpenses}\n        netProfit={netProfit}\n      />\n      <div className=\"mt-8\">\n        <RevenueChart services={filteredData.services} expenses={filteredData.expenses} />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAAA;AAEA;AACA;AACA;AACA;;;AATA;;;;;;;AAWO,SAAS;;IACd,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,CAAC,EAAE,GAAG,IAAA,2KAAU,EAAC,mJAAU;IAE1D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAwB;QACtD,MAAM,IAAA,+JAAY,EAAC,IAAI;QACvB,IAAI,IAAA,2JAAU,EAAC,IAAI;IACrB;IAEA,MAAM,eAAe,IAAA,wKAAO;2CAAC;YAC3B,MAAM,OAAO,iBAAA,2BAAA,KAAM,IAAI;YACvB,MAAM,KAAK,iBAAA,2BAAA,KAAM,EAAE;YAEnB,IAAI,CAAC,QAAQ,CAAC,IAAI;gBAChB,OAAO;oBAAE,UAAU,EAAE;oBAAE,UAAU,EAAE;gBAAC;YACtC;YAEA,MAAM,WAAW,YAAY,MAAM;4DAAC,CAAA;oBAClC,MAAM,cAAc,IAAI,KAAK,EAAE,SAAS;oBACxC,OAAO,eAAe,QAAQ,eAAe;gBAC/C;;YACA,MAAM,mBAAmB,SAAS,MAAM;oEAAC,CAAA;oBACrC,MAAM,cAAc,IAAI,KAAK,EAAE,IAAI;oBACnC,OAAO,eAAe,QAAQ,eAAe;gBACjD;;YAEA,OAAO;gBAAE;gBAAU,UAAU;YAAiB;QAChD;0CAAG;QAAC;QAAa;QAAU;KAAK;IAEhC,MAAM,eAAe,IAAA,wKAAO;2CAAC,IAAM,aAAa,QAAQ,CAAC,MAAM;mDAAC,CAAC,KAAK,IAAM,MAAM,EAAE,KAAK;kDAAE;0CAAI;QAAC,aAAa,QAAQ;KAAC;IACtH,MAAM,mBAAmB,IAAA,wKAAO;+CAAC,IAAM,aAAa,QAAQ,CAAC,MAAM;uDAAC,CAAC,KAAK,IAAM,MAAM,EAAE,UAAU;sDAAE;8CAAI;QAAC,aAAa,QAAQ;KAAC;IAC/H,MAAM,gBAAgB,IAAA,wKAAO;4CAAC,IAAM,aAAa,QAAQ,CAAC,MAAM;oDAAC,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM;mDAAE;2CAAI;QAAC,aAAa,QAAQ;KAAC;IACxH,MAAM,YAAY,IAAA,wKAAO;wCAAC,IAAM,eAAe,mBAAmB;uCAAe;QAAC;QAAc;QAAkB;KAAc;IAEhI,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAsB,EAAE;;;;;;kCACtC,6LAAC,yKAAe;wBACd,MAAM;wBACN,UAAU;;;;;;;;;;;;0BAGd,6LAAC,8KAAgB;gBACf,cAAc;gBACd,kBAAkB;gBAClB,eAAe;gBACf,WAAW;;;;;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,sKAAY;oBAAC,UAAU,aAAa,QAAQ;oBAAE,UAAU,aAAa,QAAQ;;;;;;;;;;;;;;;;;AAItF;GArDgB;KAAA","debugId":null}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///home/user/carwash/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { Dashboard } from '@/components/dashboard/dashboard';\n\nexport default function DashboardPage() {\n  return <Dashboard />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBAAO,6LAAC,4JAAS;;;;;AACnB;KAFwB","debugId":null}}]
}